# 1/5 ファームウェアの書き込みテスト

* 万が一の不良がないか確認します

## QMK toolboxをダウンロードする

* [githubのreleases](https://github.com/qmk/qmk_toolbox/releases)からQMK toolboxをダウンロードしてください
  * https://github.com/qmk/qmk_toolbox/releases

## テスト用ファームウェアをダウンロードする

* ~~[テスト用のビルド済みファームウェア(hex)はこちら](./jp60_v1p1_default.hex)~~

### remap向け定義ファイル

* ブラウザ上でキーマップ書き換え可能な「[remap](https://remap-keys.app/)」というサービスがあります
  * [カタログ](https://remap-keys.app/catalog/qn9cptGolkkRaDniKu2d/firmware)からダウンロード可能なファームウェア（hexファイル)をダウンロードしてください。

* ~~[このファームウェア(hex)](./jp60_v1p1_via.hex)を上記ファームウェア代わりに書き込んでください~~
* ~~[このjson](./jp60_v1p1.json)をあとで使います。ダウンロードしてください~~


## 書き込み準備をする

* USBケーブルを用意します
* 基板を用意します
* 基板を裏返します
* ピンセットなど2.54mm間隔の穴を短絡させやすい金属製の何か（以下ピンセット）を用意します
* PCとUSBケーブルを接続します
* 基板とUSBケーブルを接続します

## 書き込む

* QMK toolboxを起動します
* QMK toolboxにテスト用ファームウェアを読み込ませます
* autoflashにチェックを入れます
* 基板の6か所開いている穴のうち、隣に書いてあるテキストのGNDとRSTに対応する穴をピンセットで触って繋ぐ
* すぐに離します
  * (windowsの場合)切断音でリセットされたことがわかります
* QMK toolboxのテキスト出力を確認する
  * 書き込みが始まった場合はそのようなメッセージが英語ででます
    * 基本的に出力はすべて英語なので、読んでください
    * 読めない場合はコピーしてgoogle翻訳にいれてください


![GNDとRST](/jp60ss/reset_keyboard.jpg)


## 入力確認をする

* 基板とPCをUSBケーブルで接続する
* いずれかの手段で、すべてのキーの入力を確認する
  * すべてのソケットにスイッチを刺して押す
    * 刺した後はすぐ抜いて隣のソケットに刺せばよい
  * 基板裏側から、ソケットの金属部左右を触って短絡させる
    * スイッチを押したのと同様の扱いになる
  * 半角全角、カタカナひらがな、無変換、変換、右Altあたりがぱっと確認しづらい